<div class="modal-backdrop" (click)="close.emit()"></div>
<div class="modal-container">
    <div>
        <button aria-label="close-button" class="close-button" (click)="close.emit()">
            <mat-icon>close</mat-icon>
        </button>
    </div>
    <div class="image-preview">
        <img [src]="croppedImageSrc" alt="Image Preview" style="max-width: 100%; max-height: 100%;" />
    </div>
    <div class="image-editor">
        <div class="grid-size-selector"
        (mouseleave)="onPlaceholderHover(-1)">
            <!-- The grid size selector is a 3x3 grid of 1080x1350 aspect ratio grey squares -->
            <!-- When hovered, the elements change color to a lighter grey -->
             <!-- It is not based on a list of elements -->
            <div class="grid">
                <div class="grid-item" 
                *ngFor="let size of [1,2,3,4,5,6,7,8,9]; let i = index" 
                [class.darkened]="isDarkened(i)"
                [class.selected]="isSelected(i)"
                (mouseenter)="onPlaceholderHover(i)"
                (click)="onPlaceholderClick(i)">
                    <ng-template #placeholder>
                        <!-- <div class="placeholder"></div> -->
                    </ng-template>
                </div>
            </div>
        </div>
        <div class="image-controls">
            <button aria-label="download-button" class="download-button" (click)="downloadImages()">
                <mat-icon>download</mat-icon>
            </button>
            <button aria-label="check-button" class="check-button" (click)="sendImage()">
                <mat-icon>check</mat-icon> Import
            </button>
            <button aria-label="delete-button" class="delete-button" (click)="deleteImage()">
                <mat-icon>delete</mat-icon>
            </button>
        </div>
    </div>
</div>